# Сервис для загрузки пользовательских событий в шину данных

Веб-сервис получает событие от пользовательского интерфейса, затем сохраняет это событие
в базу данных. Параллельно поднята служба, которая следит за новыми событиями
и отсылает их в шину данных.

# Используемые библиотеки

Версия python: 3.10

- FastAPI
- AIOKafka
- SQLAlchemy
- Pydantic


# Первичная конфигурация

## Необходимые настройки для быстрого старта

Установить переменные среды в `.env` файл по образу и подобию `.env.example`
(там содержатся только базовые настройки, более подробные лежат в `./app/core/config.py`)

## Запуск с помощью docker и docker compose

Dockerfile подразумевает следующую цепочку действий при запуске:

Для локального запуска лучше всего использовать *docker-compose* файлы.

Основной файл необходим для запуска сервера с подключением к существующей базе данных файл *
docker-compose.dev.yml* необходим для запуска сервера с локальной версией postgres; инстанс в таком случае
будет доступен по параметрам подключения, указанным в переменных среды.

Запуск приложения необходимо осуществлять с помощью команды `docker-compose up -d --build`.
При запуске с локальной бд необходимо указать оба файла и нужные сервисы: 
`docker-compose -f docker-compose.yml -f docker-compose.dev.yml up -d --build postgres redis web`